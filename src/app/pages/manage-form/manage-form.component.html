<!-- <div class="loading" *ngIf="LoadingPage"></div> -->

<div class="col-12" style="background-color: white; padding: 40px; border-radius: 12px; box-shadow: 0 6px 10px -4px rgb(0 0 0 / 15%);">


    <div class="row">
        <div class="col-lg-3 col-sm-12">
            <div class="form-group">
                <div class="input-group mb-3">
                    <select class="custom-select" [formControl]="SelectStatus" (change)="OnSelectStatus();">
                        <option [value]="'inprocess'">Inprocess</option>
                        <option [value]="'finish'">Finish</option>
                    </select>
                </div>
            </div>

        </div>
        <div class="col-lg-2 col-sm-12">
            <div class="form-group">
                <div class="input-group mb-3">
                    <select class="custom-select" [formControl]="CountNum" (change)="onSelectCountNum();">
                        <option *ngFor="let item of CountList; let i=index" [value]="item">{{item}}</option>
                        <option value="all">all</option>
                    </select>
                </div>
            </div>

        </div>
        <div class="col-lg-3 col-sm-12">
            <!-- <div class="form-group">
                <input type="search" class="form-control" placeholder="search" [(ngModel)]="KeySearch" (input)="onSearchChange($event)">
            </div> -->

        </div>
        <div class="col-lg-4 col-sm-12 text-right">
            <span>Page {{PageNow}}/{{CountPage}} </span>

            <button class="btn mt-0" (click)="back()">BACK</button>
            <button class="btn mt-0" (click)="next()">NEXT</button>
        </div>
    </div>

    <div class="row" *ngIf="DataFilter.length > 0">
        <div class="col-lg-12">
            <div class="tableFixHead">
                <table class="table table-bordered mt-3 text-center">
                    <thead class="thead-dark">
                        <tr>
                            <th width="2%" class="text-nowrap" scope="col">#</th>
                            <th class="text-nowrap" scope="col">Req.no</th>
                            <th width="5%" class="text-nowrap" scope="col">Section</th>
                            <th width="10%" class="text-nowrap" scope="col">Req.name</th>
                            <th width="10%" class="text-nowrap" scope="col">Model</th>
                            <th width="10%" class="text-nowrap" scope="col">Lot number</th>
                            <th width="10%" class="text-nowrap" scope="col">Defect name</th>
                            <th width="10%" class="text-nowrap" scope="col">Issue date</th>
                            <th width="10%" class="text-nowrap" scope="col">Reply date</th>
                            <th width="10%" class="text-nowrap" scope="col">Wait</th>
                            <th width="10%" class="text-nowrap" scope="col">Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of DataFilter; let i = index" class="tableRow" (click)="OnClickForm(item)">
                            <th scope="row">{{i+1}}</th>
                            <td>{{item.requestNumber}}</td>
                            <td>{{item.requestFormSectionName}}</td>
                            <td>{{item.issuer}}</td>
                            <td>{{item.ktcModelNumber}}</td>
                            <td>{{item.pcLotNumber}}</td>
                            <td>{{item.defectiveName}}</td>
                            <td>{{item.issuedDate}}</td>
                            <td>{{item.replyDate}}</td>
                            <td [ngClass]="{'primary-status': item.userApprove == UserId}">{{item.userApproveName}}</td>
                            <!-- <td *ngIf="item.status == 1">Line Leader</td> -->
                            <td class="status green-status" *ngIf="item.status == 1">Wait Approve Request</td>
                            <td class="status green-status" *ngIf="item.status == 2">Analysis</td>
                            <td class="status green-status" *ngIf="item.status == 3">Making Report</td>
                            <td class="status green-status" *ngIf="item.status == 4">Reviewer Report</td>
                            <td class="status green-status" *ngIf="item.status == 5">Approve Report</td>
                            <td class="status primary-status" *ngIf="item.status == 6">Finished</td>
                            <td class="status red-status" *ngIf="item.status == 2.1">Reject</td>
                            <td class="status red-status" *ngIf="item.status == 3.1">Reject</td>
                            <td class="status red-status" *ngIf="item.status == 4.3">Reject</td>
                            <td class="status red-status" *ngIf="item.status == 5.4">Reject</td>
                            <td class="status red-status" *ngIf="item.status == 6.4">Reject</td>
                            <td class="status red-status" *ngIf="item.status == 0">Cancel</td>

                        </tr>

                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <div class="row" *ngIf="DataFilter.length == 0">
        <div class="col-lg-12">
            <table class="table table-striped mt-3 text-center">
                <thead class="thead-dark">
                    <tr>
                        <th class="text-nowrap" scope="col">#</th>
                        <th class="text-nowrap" scope="col">Req.no</th>
                        <th class="text-nowrap" scope="col">Model</th>
                        <th class="text-nowrap" scope="col">Lot number</th>
                        <th class="text-nowrap" scope="col">Defect name</th>
                        <th class="text-nowrap" scope="col">Issue date</th>
                        <th class="text-nowrap" scope="col">Reply date</th>
                        <th class="text-nowrap" scope="col">Wait</th>
                        <th class="text-nowrap" scope="col">Status</th>
                    </tr>
                </thead>
                <tbody>

                    <tr>
                        <th [colSpan]="9">No Analysis Request Form</th>
                    </tr>

                </tbody>
            </table>
        </div>
    </div>

    <!-- <div class="row">
        <div class="col-lg-12 text-right ">
            
        </div>
    </div> -->


</div>