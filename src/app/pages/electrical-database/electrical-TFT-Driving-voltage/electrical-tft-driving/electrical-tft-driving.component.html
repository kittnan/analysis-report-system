<div class="loading" *ngIf="LoadingPage">
  <div class="spinner">

  </div>
</div>

<div class="myInput mt-3" style="width: 100%">
  <div class="col-lg-12">

    <div class="row mt-3 label">
      <div class="col-lg-8 pl-0 pr-0">
        <h5>TFT Driving Voltage</h5>
        <label for=""> Confirm TFT LCD driving voltage of NG sample compare with Good sample</label>
        <div>
          <label for=""> Model :</label><span class="blue"> {{model}}</span>
        </div>

      </div>
    </div>

    <div class="row">
      <div class="col-lg-12">
        <div class="row mt-2 label">
          <div class="col-lg-12 pl-0 pr-0">
            <label for="" class="myInput text-center">TFT LCD driving voltage</label>
          </div>
        </div>
        <div class="row label">
          <div class="col-lg-4 pl-0 pr-0">
            <label for="" class="myInput d-flex align-items-center justify-content-center text-center ">Measure ment
              Point</label>
          </div>
          <div class="col-lg-2 pr-0 pl-0">
            <label for="" class="myInput d-flex align-items-center justify-content-center"> Voltage Name</label>
          </div>
          <div class="col-lg-6 pl-0 pr-0">
            <div class="row">
              <div class="col-lg-12">
                <label for="" class="myInput text-center">Sample</label>
              </div>
            </div>
            <div class="col-lg-12">
              <div class="row">
                <div class="col-lg-4 pl-0 pr-0">
                  <label for="" class="myInput text-center">Good</label>
                </div>
                <div class="col-lg-4 pl-0 pr-0">
                  <input type="text" class="myInput text-center" placeholder="Err%" type="number"
                    [(ngModel)]="errorValue" (change)="setErrorValue()">
                </div>
                <div class="col-lg-4 pl-0 pr-0">
                  <label for="" class="myInput text-center">NG</label>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="row">
          <div class="col-lg-4 pl-0 pr-0">
            <label for="" *ngFor="let item of data"
              class="myCss d-flex align-items-center justify-content-center text-center">{{item.measure}}</label>
          </div>
          <div class="col-lg-2 pl-0 pr-0">
            <label for="" *ngFor="let item of data"
              class="myCss d-flex align-items-center justify-content-center text-center">{{item.name}}</label>
          </div>
          <div class="col-lg-6">
            <div class="row">
              <div class="col-lg-12"></div>
              <div class="col-lg-4 pl-0 pr-0">
                <label for="" *ngFor="let item of data"
                  class="myCss d-flex align-items-center justify-content-center text-center blue">{{item.good}}</label>
              </div>
              <div class="col-lg-4 pl-0 pr-0">
                <input *ngFor="let item of data"
                  class="myCss d-flex align-items-center justify-content-center text-center" type="number"
                  [(ngModel)]="item.err" (keyup)="calculator()">
              </div>
              <div class="col-lg-4 pl-0 pr-0">
                <input *ngFor="let item of data"
                  [ngClass]="item.status == true ? 'myInputGreen d-flex align-items-center justify-content-center text-center' : 'myInputRed d-flex align-items-center justify-content-center text-center'"
                  [(ngModel)]="item.Ng" type="number" (keyup)="calculator()">
              </div>
            </div>
          </div>
        </div>
      </div>
      <!-- {{urlImagePart|json}} -->

      <div *ngIf="urlImagePart?.length > 0 " class="col-lg-6 pr-0">
        <div class="col-lg-12">
          <label for="" class="mr-2 label" style="font-size: 16px;"><u>Part arrangement drawing</u></label>
        </div>
        <div class="col-lg-12 pr-0">
          <div class="img-magnifier-container" *ngFor="let item of urlImagePart let  i = index;">
            <img [id]="i" [src]="item" width="100%" height="100%" (mouseover)="magnify(i, 3)" (mouseleave)="zoomOut()">
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="urlImageCircuit?.length > 0" class="row mt-3">
      <div class="col-lg-12 pl-0 pr-0">
        <label for="" class="mr-2 label" style="font-size: 16px;"><u>Circuit diagram</u></label>
      </div>
      <div class="col-lg-12 pl-0 pr-0">
        <div class="row">
          <div class="col-lg-12" *ngFor="let item of urlImageCircuit let  i = index;">
            <div class="img-magnifier-container pr-0 pl-0">
              <img [id]="i+1" [src]="item" width="100%" height="100%" (mouseover)="magnify(i+1, 3)"
                (mouseleave)="zoomOut()">
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>

</div>

<div class="col-lg-12 pl-0">
  <div class="row">
    <div class="col-lg-2">
      <button class="btn btn-block" (click)="showEdit(true)">Edit image</button>
    </div>
  </div>
  <div>
  </div>
</div>

<div *ngIf="editOn" class="row pt-3">
  <div class="col-lg-12">
    <label for="">File</label>
    <input class="ml-1" type="file" #fileUpload [multiple]="true" (change)="upload($event)">
  </div>
  <div class="col-lg-12">
    <ul>
      <li *ngFor="let file of urlOldShow ;let i = index" class="d-flex align-items-center justify-content-between">
        {{i+1}}. {{file}}
        <span>
          <button class="btn btn-sm text-primary" (click)="onClickDel(file)">Delete</button>
        </span>
      </li>
      <li *ngFor="let file of tempUpload ;let i = index" class="d-flex align-items-center justify-content-between">
        {{i+1+urlOldShow.length}}. {{file.name}}
        <span>
          <button class="btn btn-sm text-primary" (click)="onClickDel(file)">Delete</button>
        </span>
      </li>
    </ul>
  </div>



  <!-- <div class="col-lg-12">
    <label for="" *ngFor="let item of dataUrl"></label>
  </div> -->
  <div class="col-lg-4">
    <button class="btn btn-block" (click)="submit()">update</button>
    <button class="btn btn-block" (click)="showEdit(false)">close</button>
  </div>
</div>


<!-- <div class="col-lg-12">
  <div *ngFor="let item of dataUrl[0].urlImage">
    <span>{{item}}</span>
  </div>
  {{dataUrl|json}}
</div> -->
